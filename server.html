<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Shiny Tutorial</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="This is a shiny tutorial.">
  <meta name="generator" content="bookdown 0.0.71 and GitBook 2.6.7">

  <meta property="og:title" content="Shiny Tutorial" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a shiny tutorial." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Shiny Tutorial" />
  
  <meta name="twitter:description" content="This is a shiny tutorial." />
  

<meta name="author" content="Weicheng Zhu">

<meta name="date" content="2016-05-26">


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="ui.html">
<link rel="next" href="more-practice.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css\style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Shiny Tutorial</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a><ul>
<li class="chapter" data-level="1.1" data-path="softwares.html"><a href="softwares.html"><i class="fa fa-check"></i><b>1.1</b> Softwares</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="web-development.html"><a href="web-development.html"><i class="fa fa-check"></i><b>2.1</b> Web development</a></li>
<li class="chapter" data-level="2.2" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>2.2</b> Shiny</a></li>
<li class="chapter" data-level="2.3" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>2.3</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>3</b> Getting started</a><ul>
<li class="chapter" data-level="3.1" data-path="structure-of-a-shiny-app.html"><a href="structure-of-a-shiny-app.html"><i class="fa fa-check"></i><b>3.1</b> Structure of a Shiny App</a><ul>
<li class="chapter" data-level="3.1.1" data-path="structure-of-a-shiny-app.html"><a href="structure-of-a-shiny-app.html#two-files-shiny-app"><i class="fa fa-check"></i><b>3.1.1</b> Two files Shiny app</a></li>
<li class="chapter" data-level="3.1.2" data-path="structure-of-a-shiny-app.html"><a href="structure-of-a-shiny-app.html#single-file-shiny-app"><i class="fa fa-check"></i><b>3.1.2</b> Single-file Shiny App</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="ui.html"><a href="ui.html"><i class="fa fa-check"></i><b>3.2</b> UI</a><ul>
<li class="chapter" data-level="3.2.1" data-path="ui.html"><a href="ui.html#html-tags"><i class="fa fa-check"></i><b>3.2.1</b> HTML tags</a></li>
<li class="chapter" data-level="3.2.2" data-path="ui.html"><a href="ui.html#layout"><i class="fa fa-check"></i><b>3.2.2</b> Layout</a></li>
<li class="chapter" data-level="3.2.3" data-path="ui.html"><a href="ui.html#inputs-control-widgets"><i class="fa fa-check"></i><b>3.2.3</b> Inputs (control widgets)</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="server.html"><a href="server.html"><i class="fa fa-check"></i><b>3.3</b> Server</a><ul>
<li class="chapter" data-level="3.3.1" data-path="server.html"><a href="server.html#output"><i class="fa fa-check"></i><b>3.3.1</b> Output</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="more-practice.html"><a href="more-practice.html"><i class="fa fa-check"></i><b>3.4</b> More practice</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="reactive-programming.html"><a href="reactive-programming.html"><i class="fa fa-check"></i><b>4</b> Reactive Programming</a></li>
<li class="chapter" data-level="5" data-path="advanced-topics.html"><a href="advanced-topics.html"><i class="fa fa-check"></i><b>5</b> Advanced topics</a></li>
<li class="chapter" data-level="6" data-path="extension.html"><a href="extension.html"><i class="fa fa-check"></i><b>6</b> Extension</a></li>
<li class="chapter" data-level="7" data-path="deploy.html"><a href="deploy.html"><i class="fa fa-check"></i><b>7</b> Deploy</a><ul>
<li class="chapter" data-level="7.1" data-path="sharing-as-r-files.html"><a href="sharing-as-r-files.html"><i class="fa fa-check"></i><b>7.1</b> Sharing as <code>R</code> files</a></li>
<li class="chapter" data-level="7.2" data-path="sharing-as-a-webpage.html"><a href="sharing-as-a-webpage.html"><i class="fa fa-check"></i><b>7.2</b> Sharing as a webpage</a><ul>
<li class="chapter" data-level="7.2.1" data-path="sharing-as-a-webpage.html"><a href="sharing-as-a-webpage.html#for-temporary-uses"><i class="fa fa-check"></i><b>7.2.1</b> For temporary uses</a></li>
<li class="chapter" data-level="7.2.2" data-path="sharing-as-a-webpage.html"><a href="sharing-as-a-webpage.html#for-long-term-uses"><i class="fa fa-check"></i><b>7.2.2</b> For long term uses</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tips.html"><a href="tips.html"><i class="fa fa-check"></i><b>8</b> Tips</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Shiny Tutorial</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="server" class="section level2">
<h2><span class="header-section-number">3.3</span> Server</h2>
<div id="output" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Output</h3>
<p>Now we want to build our output, which will be updated automatically when an input widget changes.</p>
<p>For example, we want to build an app with a numeric input in the sidebar panel controls the ‘radius’ of a circle, and a text output in the main panel showing the area of the circle based on the radius input. We want the text output can be updated automatically when the radius value changes.</p>
<p>Two steps to do that:</p>
<ol style="list-style-type: decimal">
<li>Register your output object in <code>ui.R</code>. That is tell UI <strong>where</strong> to put the text output (outlook).</li>
<li>Tell Shiny how to render the output in <code>server.R</code>. That is tell the server <strong>how</strong> to render the text (logic).</li>
</ol>
<p><strong>Exercise 5: output</strong></p>
<p>Modify <code>ui.R</code> in <code>01-hello</code> folder as follows. It is saying that I want to put a text output object in the main panel.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(shiny)
<span class="kw">fluidPage</span>(
  <span class="kw">titlePanel</span>(<span class="st">&quot;Hello Shiny!&quot;</span>),
  <span class="kw">sidebarLayout</span>(
    <span class="kw">sidebarPanel</span>(
      <span class="kw">numericInput</span>(<span class="st">&quot;numInput&quot;</span>, <span class="st">&quot;A numeric input:&quot;</span>, <span class="dt">value =</span> <span class="dv">7</span>, <span class="dt">min =</span> <span class="dv">1</span>, <span class="dt">max =</span> <span class="dv">30</span>)
    ),
    <span class="kw">mainPanel</span>(
      <span class="kw">textOutput</span>(<span class="st">&quot;txtOutput&quot;</span>)
    )
  )
)</code></pre></div>
<p>Modify <code>server.R</code> in <code>01-hello</code> folder as follows. It gives the instruction of how to calcuate the area of a circle and what text to print.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(shiny)
function(input, output) {
  output$txtOutput =<span class="st"> </span><span class="kw">renderText</span>({
    <span class="kw">paste0</span>(<span class="st">&quot;The area of the circle is: &quot;</span>, pi*input$numInput^<span class="dv">2</span>)
  })
}</code></pre></div>
<p>Now let’s run the app in <code>showcase</code> mode by calling <code>runApp(display.mode = &quot;showcase&quot;)</code>.</p>
<p>Show case mode will show application code and metadata from a <code>DESCRIPTION</code> file in the application directory alongside the application. Shiny showcase will highlight lines of code in <code>server.R</code> as it runs them. The highlight will appear in yellow and fade out after a few moments. This helps reveal how Shiny creates <strong>reactivity</strong>; when your user manipulates an app, Shiny reruns parts of <code>server.R</code> to create updated output.</p>
<ul>
<li><p>The unnamed function in <code>server.R</code> plays a special role in the Shiny process. The function has two arguments, <code>input</code> and <code>output</code>, both of them are list-like objects. The <code>input</code> stores the current values of all of the widgets in your app. These values will be saved under the names same as the <code>inputId</code> of the widgets in <code>ui.R</code>. The <code>output</code> contains all of the code needed to update the R objects in your app.</p></li>
<li><p>Shiny will automatically make an object <strong>reactive</strong> if the object uses an input value.</p></li>
</ul>
<p>In the example above, we used <code>textOutput</code> to register a text output object in <code>ui.R</code> and then used <code>renderText</code> function to render it. There are many other pairs of <code>*Output</code> and <code>render*</code> functions defined in Shiny and they work together to add R output to the UI.</p>
<table style="width:93%;">
<colgroup>
<col width="23%" />
<col width="26%" />
<col width="43%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Output function</th>
<th align="left">render function</th>
<th align="left">creates</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">htmlOutput/uiOutput</td>
<td align="left">renderUI</td>
<td align="left">a Shiny tag object or HTML</td>
</tr>
<tr class="even">
<td align="left">imageOutput</td>
<td align="left">renderImage</td>
<td align="left">images (saved as a link to a source file)</td>
</tr>
<tr class="odd">
<td align="left">plotOutput</td>
<td align="left">renderPlot</td>
<td align="left">plots</td>
</tr>
<tr class="even">
<td align="left">tableOutput</td>
<td align="left">renderTable</td>
<td align="left">data frame, matrix, other table like structures</td>
</tr>
<tr class="odd">
<td align="left">textOutput</td>
<td align="left">renderText</td>
<td align="left">character strings</td>
</tr>
<tr class="even">
<td align="left">verbatimTextOutput</td>
<td align="left">renderPrint</td>
<td align="left">any printed output</td>
</tr>
</tbody>
</table>
<p>Figure <a href="server.html#fig:output">3.3</a> gives a graphical demenstration.</p>
<div class="figure" style="text-align: center"><span id="fig:output"></span>
<img src="images/outputs.png" alt="Shiny `render*` and `*Output` functions"  />
<p class="caption">
Figure 3.3: Shiny <code>render*</code> and <code>*Output</code> functions
</p>
</div>
<div class="rmdtip">
<p>
Some people get confused about when to use <code>,</code> and when should not use. Actually it is quite easy to remember: when your component is as an argument to a function, you should use <code>,</code>, otherwise don’t use comma. For example, you put several components inside a <code>fluidRow</code>, then you should separate the components by using comma; you put some expression inside <code>function(input, output){}</code> in the <code>server.R</code> file, then you don’t need comma to seperate them as they are in the body of a function.
</p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ui.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="more-practice.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mingsnu/shinyTutorial/edit/master/02-gettingStarted.Rmd",
"text": "Edit"
},
"download": ["shinyTutorial.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
